<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- * WARNING: NO NEWLINES IN START TAGS !!! * -->
<html>
<head>
 <title>Phylo Director &lt; Main &lt; Biowiki </title>
 <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
 <link rel="alternate" type="application/rss+xml" title="RSS Feed" href="http://biowiki.org/twiki/bin/view/Main/WebRss?skin=rss&amp;contenttype=text/xml" />
 <base href='http://biowiki.org/twiki/bin/view/Main/PhyloDirector'>
 <link href='http://biowiki.org/twiki/pub/_ks/Web_Research.css' rel="stylesheet" type="text/css" title="koalaskin" >
</head>
<body class="tundra">
<!--  Header  -->
<table border=0 cellspacing=2 cellpadding=0 width="100%">
  <tr>
  <td valign="top" align="left" width="%WIKIICONWIDTH%" rowspan=2>
    <!--  Header.Title  -->
    <a class=ks_icon href="http://biowiki.org/" title='Biowiki home'><img src="http://biowiki.org/twiki/pub/TWiki/TWikiLogos/BioWikiLogo.png" border=0 alt="click on the Biowiki logo to go to homepage" align=center></a><span class=headline></span>
  <td valign="top" align="right">
    <!--  Header.buttonstop  -->
    <span class="buttonBar"><table border="0"><tr><td><a href='/twiki/bin/edit/Main/PhyloDirector?time=044151'&amp;CGISESSID=a5d7b6124e5d5d56f59c1c7128584008&CGISESSID=a5d7b6124e5d5d56f59c1c7128584008 accesskey=e title='[Alt-E] Edit this page'>Edit</a> </td><td> <a href='/twiki/bin/view/Main/PhyloDirector?raw=on'&amp;CGISESSID=a5d7b6124e5d5d56f59c1c7128584008&CGISESSID=a5d7b6124e5d5d56f59c1c7128584008 accesskey=r title='[Alt-R] View raw text of this page'>Raw</a> </td><td> <a href="/twiki/bin/view/Main/PhyloDirector?skin=koalaprint&amp;CGISESSID=a5d7b6124e5d5d56f59c1c7128584008&CGISESSID=a5d7b6124e5d5d56f59c1c7128584008" accesskey=p title='[Alt-P] Show this page in a simpler view for printing'>Print</a> </td></tr><tr><td> <a href="/twiki/bin/search/Main/SearchResult?scope=text&amp;regex=on&amp;search=PhyloDirector&amp;CGISESSID=a5d7b6124e5d5d56f59c1c7128584008&CGISESSID=a5d7b6124e5d5d56f59c1c7128584008" accesskey=l title='[Alt-L] See all pages linking to this page'>Links</a> </td><td> <a href="/twiki/bin/rdiff/Main/PhyloDirector?CGISESSID=a5d7b6124e5d5d56f59c1c7128584008&CGISESSID=a5d7b6124e5d5d56f59c1c7128584008" accesskey=d title='[Alt-D] Log of changes to this page'>Diffs</a> </td><td> <a href="http://biowiki.org/view/Main/BiowikiRssFeeds" title="RSS feeds">RSS</a> </td></tr><tr><td> <a href="http://biowiki.org/view/Main/BioWiki" title="About this site">About</a> </td><td> <a href="http://biowiki.org/view/Main/WebStatistics" title="Statistics for this wiki">Stats</a> </td><td> <a href="http://biowiki.org/view/Main/WebChanges" title="Recent changes to this wiki">Recent</a> </td></tr></table></span>
    <tr valign=bottom><td align=right class=buttonBar>
</table>
<!--  websbar (generated)  -->
<table border=0 cellspacing=0 cellpadding=2 align=center class=groupsbar><tr>
<td align=center width=80 class=unselectedGroupCell><a href='http://biowiki.org/twiki/bin/view/Research/WebHome' class=unselectedGroup title="Research webs  ">Research</a></td>
<td align=center width=80 class=groupCell><a href='http://biowiki.org/twiki/bin/view/Teaching/WebHome' class=group title="Teaching webs  ">Teaching</a></td>
<td class=groupCell>|</td>
<td align=center width=80 class=groupCell><a href='http://biowiki.org/twiki/bin/view/Blog/WebHome' class=group title="Blog entries  ">Blog</a></td>
</tr></table>
<table border=0 cellspacing=0 cellpadding=2  width='100%' class=websbar><tr class=webCell><td class=webCell width=80><td><table border=0 cellspacing=0 cellpadding=2><tr>
<td align=center width=80 class=selectedWebCell><a href='http://biowiki.org/twiki/bin/view/Main/WebHome' class=selectedWeb title="The main biowiki web  ">Main</a></td>
<td class=webCell>|</td>
<td align=center width=80 class=webCell><a href='http://biowiki.org/twiki/bin/view/JBrowse/WebHome' class=web title="Developing the next generation genome browser  ">JBrowse</a></td>
<td class=webCell>|</td>
<td align=center width=80 class=webCell><a href='http://biowiki.org/twiki/bin/view/TWiki/WebHome' class=web title="Configuration   ">TWiki</a></td>
</tr></table></table><!-- no p -->
<table border=0 cellspacing=0 cellpadding=1 width="100%">
<tr><td class="topicTableOutline">
<table border=0 cellspacing=0 cellpadding=0 width="100%">
<tr><td class="topicTableOutline"><!--  Title  -->
    <table border=0 cellspacing=0 cellpadding=2 width="100%">
    <tr><td valign=top class="topicItemCell">
    <a href="http://biowiki.org/" title='Home page of this whole "Biowiki" site'>Biowiki</a> &gt;
    <a href="WebHome?CGISESSID=a5d7b6124e5d5d56f59c1c7128584008&CGISESSID=a5d7b6124e5d5d56f59c1c7128584008" title='WebHome, the home page of this web'>Main</a> <!-- no p -->
&gt; <span class="title">PhyloDirector</span>
</table></table></table>
<span class=text><!-- Leftbar -->
<p>
<table border=0 cellspacing=0 cellpadding=0 width="100%" valign=top>
<tr>
<td valign="top" width=110><table border=0 cellspacing=0 cellpadding=0 width=110>
<tr>
<td class="topicTableOutline">
<!-- ### Search ###-->
<table border=0 cellspacing=1 cellpadding=1 width=110>
<tr>
<td class="topicTitleCell"><span class="topicTitle">Search</span></td>
<tr>
<td class="topicItemCell">
<form action='http://biowiki.org/twiki/bin/searchmulti/Main' method="post" name=main>
<input type=hidden name=web value="Main">
<input type=hidden name=group value="Research|Main|JBrowse|TWiki">
<input type=hidden name=groupleader value="Research">
<input type=hidden name=scope value=all>
<div class="topicItem" style="margin-left:0; margin-right:0">
<select name="type" class=small>
<option value=all>entire site</option>
<option value=web selected>this wiki</option>
<option value=topicname>topic names</option>
</select>
<input size="12" type="text" name=search class=small>
<input type=submit name=Go value="Search" class=small>
<br><i><a href="WebSearch?CGISESSID=a5d7b6124e5d5d56f59c1c7128584008&CGISESSID=a5d7b6124e5d5d56f59c1c7128584008" class=xsmall title="[Alt-F] Search page with many more options" accesskey=f>Advanced search...</a></i>
</div>
</form>
</table>
</table>
<!-- NONEMPTY-S -->
  <br>
  <table border=0 cellspacing=0 cellpadding=0 width=110>
   <tr>
    <td class="topicTableOutline">
      <table border=0 cellspacing=1 cellpadding=1 width=110>
        <tr>
          <td class="topicTitleCell"><span class="topicTitle">Topics</span></td>
        <tr>
          <!-- ### Global Topics ###-->
          <td class="topicItemCell">
            <div class="topicItem">Research
<br /> <a class="twikiLink" href="http://biowiki.org/FreeSoftware">Software</a>
<br /> <a class="twikiLink" href="http://biowiki.org/PaperArchive">Papers</a>
<br /> <a class="twikiLink" href="http://biowiki.org/PhyloFilm">Movies</a>
<hr />
People
<br /> <a class="twikiLink" href="http://biowiki.org/HolmesLab">Holmes Lab</a>
<br /> <a class="twikiLink" href="http://biowiki.org/BerkeleyBOP">Berkeley BOP</a>
<br /> <a class="twikiLink" href="http://biowiki.org/LabMeeting">Lab Meeting</a>
<hr />
Classes
<br /> <a class="twikiLink" href="http://biowiki.org/view/Teaching/BioE131">BioE131/231</a>
<br /> <a class="twikiLink" href="http://biowiki.org/view/Teaching/BioE241">BioE241</a>
<hr />
Site tools
<br /> <a class="twikiLink" href="http://biowiki.org/BioWiki">About</a>
<br /> <a class="twikiLink" href="http://biowiki.org/WebChanges">Changes</a>
<br /> <a class="twikiLink" href="http://biowiki.org/WebStatistics">Statistics</a>
<br />  <a href="http://biowiki.org/twiki/bin/logon/Main/PhyloDirector?CGISESSID=a5d7b6124e5d5d56f59c1c7128584008&CGISESSID=a5d7b6124e5d5d56f59c1c7128584008" target="_top">Login</a> <br /> <a class="twikiLink" href="http://biowiki.org/view/TWiki/TWikiRegistration">Register</a> 
<hr />
<a class="twikiLink" href="http://biowiki.org/BiowikiRssFeeds">RSS feeds</a>
<br />
</div>
            <!-- ### Web Topics ###-->
            <div class="topicItem">
              </div></table></table>
<br>
<img src="http://www.prchecker.info/PR2_img.gif" alt="PageRank Checker" border="0" /></a>
<p />
</td>
<!-- NONEMPTY-E --><!-- no p --><!-- margin --><td valign=top width=10> </td><td valign="top" class=contents align=left><!--  Content --><!--
<ul>
<li> Set TKFMOVIE = <a href="http://biowiki.org/~yam/fruitfly/TKFmovie" target="_top">http://biowiki.org/~yam/fruitfly/TKFmovie</a>
</li>
<li> Set PHYCOMP = <code><b>phylocomposer</b></code>
</li>
<li> Set PHYDIR = <code><b>phylodirector</b></code>
</li>
</ul>
<p />
<ul>
<li> Set ALLOWTOPICCHANGE = <a class="twikiLink" href="http://biowiki.org/IanHolmes">Ian Holmes</a>
</li>
<li> Set ALLOWTOPICRENAME = <a class="twikiLink" href="http://biowiki.org/IanHolmes">Ian Holmes</a>
</li>
</ul>
-->
<p />
Home page for the <code><b>phylodirector</b></code> program in the <a class="twikiLink" href="http://biowiki.org/DART">DART</a> package.
<p />
<blockquote>
<div class="twikiToc">
<ul>
<li> <a href="http://biowiki.org/PhyloDirector#Introduction">Introduction</a>
<ul>
<li> <a href="http://biowiki.org/PhyloDirector#How_to_obtain_phylodirector">How to obtain phylodirector</a>
</li>
<li> <a href="http://biowiki.org/PhyloDirector#Visual_legend">Visual legend</a>
</li>
<li> <a href="http://biowiki.org/PhyloDirector#How_to_read_this_document">How to read this document</a>
</li>
</ul>
</li>
<li> <a href="http://biowiki.org/PhyloDirector#Theory_string_transducers">Theory: string transducers</a>
</li>
<li> <a href="http://biowiki.org/PhyloDirector#Command_line_usage">Command-line usage</a>
</li>
<li> <a href="http://biowiki.org/PhyloDirector#File_formats">File formats</a>
<ul>
<li> <a href="http://biowiki.org/PhyloDirector#Input_format">Input format</a>
</li>
<li> <a href="http://biowiki.org/PhyloDirector#Output_format">Output format</a>
</li>
</ul>
</li>
<li> <a href="http://biowiki.org/PhyloDirector#Example_input_files">Example input files</a>
<ul>
<li> <a href="http://biowiki.org/PhyloDirector#Nanos_translational_control_elem">Nanos translational control element</a>
</li>
</ul>
</li>
<li> <a href="http://biowiki.org/PhyloDirector#Example_movies">Example movies</a>
</li>
</ul>
</div>
</blockquote>
<p />
<h1><a name="Introduction"> </a> Introduction </h1>
<p />
The following page describes the <code><b>phylodirector</b></code> program
for visualizing transducer state paths as animations.
<p />
<h2><a name="How_to_obtain_phylodirector"> </a> How to obtain phylodirector </h2>
<p />
<ol>
<li> Install the <a class="twikiLink" href="http://biowiki.org/BerkeleyMpegEncoder">Berkeley Mpeg Encoder</a> and the <a class="twikiLink" href="http://biowiki.org/GDPerlModule">GD Perl module</a>
</li>
<li> Ensure <code><b>GD.pm</b></code> is in your <code><b>PERL5LIB</b></code> and <code><b>mpeg_encode</b></code> is in your <code><b>PATH</b></code>
</li>
<li> Download the <a class="twikiLink" href="http://biowiki.org/DART">DART</a> package (see <a class="twikiLink" href="http://biowiki.org/DownloadingDart">Downloading Dart</a>)
</li>
<li> Add the <code><b>dart/perl</b></code> directory to both your <code><b>PERL5LIB</b></code> and <code><b>PATH</b></code> environment variables
</li>
<li> Try running the <code><b><a href="http://github.com/ihh/dart/blob/master/perl/phylodirector.pl" target="_top">phylodirector.pl</a></b></code> script, which should now be in your <code><b>PATH</b></code>.
</li>
</ol>
<p />
<h2><a name="Visual_legend"> </a> Visual legend </h2>
<p />
This diagram is a key to the icons for the various state types of the branch transducers:
<p />
    <img alt="Key to phylodirector's transducer state type illustrations"  width="474" height="202"   src="/twiki/pub/Main/PhyloDirector/statetypes.png" />
<p />
Note that these icons are slightly different from those in the <a class="twikiLink" href="http://biowiki.org/TransducerLegend">graphviz figures</a> elsewhere on this wiki.
Different icons; same formalism.
<p />
<h2><a name="How_to_read_this_document"> </a> How to read this document </h2>
<p />
Straight through.
<p />
What, impatient? Skip to the <a class="twikiAnchorLink" href="http://biowiki.org/PhyloDirector#ExampleMovies">Example Movies</a>.
<p />
<h1><a name="Theory_string_transducers"> </a> Theory: string transducers </h1>
<p />
For discussion of the theoretical framework of finite-state transducers, see one of the following pages:
<p />
<ul>
<li> <a class="twikiLink" href="http://biowiki.org/PhyloComposer">PhyloComposer</a> (manual for software tool, gives concrete examples);
</li>
<li> <a class="twikiLink" href="http://biowiki.org/StringTransducers">StringTransducers</a> (brief overview, with lots of links).
</li>
</ul>
<p />
<h1><a name="Command_line_usage"> </a> Command-line usage </h1>
<p />
The general usage is
<p />
<blockquote><pre>
phylodirector.pl [options] AlignmentFile
</pre></blockquote>
<p />
The program can also be used as a Unix filter:
<p />
<blockquote><pre>
cat AlignmentFile | phylodirector.pl [options]
</pre></blockquote>
<p />
For a full list of options, type <code><b>phylodirector.pl --help</b></code>.
<p />
<p />
<h1><a name="File_formats"> </a> File formats </h1>
<h2><a name="Input_format"> </a> Input format </h2>
<p />
The input file should be in <a class="twikiLink" href="http://biowiki.org/StockholmFormat">Stockholm format</a>,
and should use the ability of that format to associate a <a class="twikiLink" href="http://biowiki.org/NewickFormat">Newick format</a> tree with a multiple sequence alignment.
<p />
<h2><a name="Output_format"> </a> Output format </h2>
<p />
The primary output is an <a class="twikiLink" href="http://biowiki.org/MPEGFormat">MPEG format</a> movie.
<p />
Still images are output in <a class="twikiLink" href="http://biowiki.org/PNGFormat">PNG format</a> or <a class="twikiLink" href="http://biowiki.org/SVGFormat">SVG format</a>.
<p />
<h1><a name="Example_input_files"> </a> Example input files </h1>
<p />
<a name="NanosExample"></a>
<h2><a name="Nanos_translational_control_elem"> </a> Nanos translational control element </h2>
<p />
This file, <a href="http://biowiki.org/twiki/pub/Main/PhyloDirector/nos_TCE.stock" target="_top">nos_TCE.stock</a>,
generates a 16Mb movie in approx 6 minutes
on a 1.5GHz Apple PowerPC laptop with 1.25Mb RAM.
<p />
The output is linked <a class="twikiAnchorLink" href="http://biowiki.org/PhyloDirector#NanosExampleMovie">below</a>.
<p />
<a name="ExampleMovies"></a>
<h1><a name="Example_movies"> </a> Example movies </h1>
<p />
The <a class="twikiLink" href="http://biowiki.org/PhyloFilm">Phylo Film</a> page has downloadable examples of transducer animations generated using <code><b>phylodirector</b></code>,
as well as lots of other animations e.g. forward-time simulations of indel models.
<p />
Here's a cartoon of a multi-sequence transducer in action: </em><a href="http://biowiki.org/~yam/fruitfly/TKFmovie/EHMM/ehmm.mov">Evolutionary HMM (Quicktime)</a>, <a href="http://biowiki.org/~yam/fruitfly/TKFmovie/EHMM/ehmm.avi">Evolutionary HMM (AVI)</a>, <a href="http://biowiki.org/~yam/fruitfly/TKFmovie/EHMM/ehmm.mpg">Evolutionary HMM (MPG)</a> <em>and here is a </em><a href="http://biowiki.org/~yam/fruitfly/TKFmovie/EHMM/states.pdf">legend for the EHMM movies (PDF)</a> </p>
<p />
Here's a somewhat clunky YouTube:
<p />
<object width="425" height="350"> <param name="movie" value="http://www.youtube.com/v/EcLj5MSDPyM"> </param> <embed src="http://www.youtube.com/v/EcLj5MSDPyM" type="application/x-shockwave-flash" width="425" height="350"> </embed> </object>
<p />
<a name="NanosExampleMovie"></a>
Here's another YouTube, this time of the above <a class="twikiAnchorLink" href="http://biowiki.org/PhyloDirector#NanosExample">nanos TCE</a> example:
<p />
<object width="425" height="350"> <param name="movie" value="http://www.youtube.com/v/LhezqZ186uI"> </param> <embed src="http://www.youtube.com/v/LhezqZ186uI" type="application/x-shockwave-flash" width="425" height="350"> </embed> </object>
<p />
-- <a class="twikiLink" href="http://biowiki.org/IanHolmes">IanHolmes</a> - 18 May 2007
<p /><span class=ks_form></span></table></span><!-- eoc -->
<!--  Footer  -->
<p id=footer>
<table border=0 cellspacing=0 cellpadding=0 width="100%">
<tr><td width=110> <td align=left>
<tr><td colspan=2 class=topicTableOutline>
    <table border=0 cellspacing=1 cellpadding=1 width="100%">
    <tr><td class=topicTitleCell valign=bottom width=110>
    <span class=topicTitle><b>Actions</b>:</span>
    <td class=topicItemCell align=right valign=top>
    <span class="buttonBar">
<a href='/twiki/bin/edit/Main/PhyloDirector?time=044151'&amp;CGISESSID=a5d7b6124e5d5d56f59c1c7128584008&CGISESSID=a5d7b6124e5d5d56f59c1c7128584008 title='[Alt-E] Edit (modify) this page (topic)'>Edit</a> | 
  <a href="/twiki/bin/attach/Main/PhyloDirector?CGISESSID=a5d7b6124e5d5d56f59c1c7128584008&CGISESSID=a5d7b6124e5d5d56f59c1c7128584008" title='[Alt-A] Upload and attach any file to this page (topic)'>Attach</a> | 
  <a href='/twiki/bin/oops/Main/PhyloDirector?template=oopscreate&amp;param2=none'&amp;CGISESSID=a5d7b6124e5d5d56f59c1c7128584008&CGISESSID=a5d7b6124e5d5d56f59c1c7128584008 title='[Alt-N] Create a new page (topic) in this web (folder)'>New</a> | 
  <a href="/twiki/bin/search/Main/SearchResult?scope=text&amp;regex=on&amp;search=Phylo%20*Director%5B%5EA-Za-z%5D&amp;CGISESSID=a5d7b6124e5d5d56f59c1c7128584008&CGISESSID=a5d7b6124e5d5d56f59c1c7128584008" accesskey=l title='[Alt-L] See all pages linking to this page'>Ref-By</a> |
  <a href='/twiki/bin/view/Main/PhyloDirector?skin=koalaprint'&amp;CGISESSID=a5d7b6124e5d5d56f59c1c7128584008&CGISESSID=a5d7b6124e5d5d56f59c1c7128584008 accesskey=p title='[Alt-P] Show this page in a simpler view for printing'>Printable view</a> <span class=invisibleInRaw>| <a href="/twiki/bin/view/Main/PhyloDirector?raw=on&amp;CGISESSID=a5d7b6124e5d5d56f59c1c7128584008&CGISESSID=a5d7b6124e5d5d56f59c1c7128584008" accesskey=r title='[Alt-R] Show the raw source of this page in TWiki notation, without editing (thus locking) it'>Raw view</a><a href="/twiki/bin/view/Main/PhyloDirector?CGISESSID=a5d7b6124e5d5d56f59c1c7128584008&CGISESSID=a5d7b6124e5d5d56f59c1c7128584008" accesskey=z></a> </span><span class=invisibleInNormal>| <a href="/twiki/bin/view/Main/PhyloDirector?CGISESSID=a5d7b6124e5d5d56f59c1c7128584008&CGISESSID=a5d7b6124e5d5d56f59c1c7128584008" title='[Alt-Z] Back to normal view' accesskey=z>Normal view</a> </span>| 
<a href="/twiki/bin/rdiff/Main/PhyloDirector?CGISESSID=a5d7b6124e5d5d56f59c1c7128584008&CGISESSID=a5d7b6124e5d5d56f59c1c7128584008" title='[Alt-D] See the history of changes made to this page' accesskey=d>See diffs</a> |
 <a href="/twiki/bin/view/TWiki/WelcomeGuest?CGISESSID=a5d7b6124e5d5d56f59c1c7128584008&CGISESSID=a5d7b6124e5d5d56f59c1c7128584008" title='Help on using this Wiki web collaborative system'> Help</a> |
 <a href="/twiki/bin/oops/Main/PhyloDirector?template=oopsmore&amp;param1=1.37&amp;param2=1.37&amp;CGISESSID=a5d7b6124e5d5d56f59c1c7128584008&CGISESSID=a5d7b6124e5d5d56f59c1c7128584008" accesskey=m title='[Alt-M] Renaming/Moving/Deleting/Reparenting the page, viewing/comparing past revisions, see children'>More...</a></span>
</table>
</table>
<table width="100%" border=0 cellspacing=0 cellpadding=2>
<tr>
<td class="footer" align=left><b>Main.PhyloDirector</b><br>r1.37 - 18 Jun 2007 - 22:51 - <a class="twikiLink" href="http://biowiki.org/IanHolmes">IanHolmes</a>
<td class="footer" align=right>Biowiki content is in the public domain.<br /> 
Comments on this site? <a href="mailto:wikigardener@postbox.biowiki.org?subject=Biowiki&#32;Feedback&#32;on&#32;Main.PhyloDirector">Send feedback</a>
</table>
<p />
<!-- Google Analytics -->
<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-1813595-1";
urchinTracker();
</script>
<p />
</body>
</html>